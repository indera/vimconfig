diff --git a/getchar.c b/getchar.c
index c4ffb4b..d1a9516 100644
--- a/getchar.c
+++ b/getchar.c
@@ -2731,6 +2731,8 @@ vgetorpeek(advance)
 		}
 		if (c < 0)
 		    continue;	/* end of input script reached */
+		for (n = 1; n <= c; ++n) /* allow mapping for just typed characters */
+		    typebuf.tb_noremap[typebuf.tb_off + n] = RM_YES;
 		typebuf.tb_len += c;
 
 		/* buffer full, don't map */
